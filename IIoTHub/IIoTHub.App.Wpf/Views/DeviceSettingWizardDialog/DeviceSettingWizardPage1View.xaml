<UserControl x:Class="IIoTHub.App.Wpf.Views.DeviceSettingWizardDialog.DeviceSettingWizardPage1View"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d">

    <UserControl.Resources>

        <!-- Icon RadioButton -->
        <Style x:Key="ImageRadioButtonStyle"
                TargetType="RadioButton">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="RadioButton">
                            
                        <Border x:Name="border"
                                CornerRadius="10"
                                BorderBrush="{StaticResource BorderLightBrush}"
                                BorderThickness="1"
                                Background="{StaticResource PanelBackgroundBrush}"
                                Padding="12"
                                Margin="10">

                            <StackPanel HorizontalAlignment="Center"
                                        VerticalAlignment="Center">
                                    
                                <Image Source="{Binding Tag,
                                        RelativeSource={RelativeSource AncestorType=RadioButton}}"
                                        Width="80"
                                        Height="80"
                                        Margin="0,5"/>

                                <TextBlock Text="{TemplateBinding Content}"
                                            HorizontalAlignment="Center"
                                            FontSize="14"
                                            FontWeight="SemiBold"
                                            Foreground="#333"/>
                                    
                            </StackPanel>
                                
                        </Border>

                        <ControlTemplate.Triggers>
                                
                            <Trigger Property="IsChecked"
                                        Value="True">
                                <Setter TargetName="border"
                                        Property="BorderBrush"
                                        Value="{StaticResource PrimaryBrush}"/>
                                <Setter TargetName="border"
                                        Property="Background"
                                        Value="#F3F9FF"/>
                                <Setter TargetName="border"
                                        Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#0078D7"
                                                            BlurRadius="10"
                                                            ShadowDepth="0"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>

                            <Trigger Property="IsMouseOver"
                                        Value="True">
                                <Setter Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="1.05"
                                                        ScaleY="1.05"/>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="RenderTransformOrigin"
                                        Value="0.5,0.5"/>
                            </Trigger>
                                
                        </ControlTemplate.Triggers>
                            
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

    </UserControl.Resources>

    <Grid Margin="20">
        <StackPanel Orientation="Vertical">

            <!-- 標題 -->
            <StackPanel Orientation="Vertical"
                        Margin="0,0,0,16">
                <TextBlock FontSize="20"
                           FontWeight="Bold"
                           Foreground="{StaticResource PrimaryBrush}">
                    <Run Text="基本訊息設定"/>
                </TextBlock>
                <Border Height="2"
                        Background="{StaticResource PrimaryBrush}"
                        Margin="0,6,0,0"/>
            </StackPanel>

            <!-- 類型選擇 -->
            <ItemsControl ItemsSource="{Binding DeviceCategoryTypes}">
                
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <UniformGrid Columns="{Binding DeviceCategoryTypes.Count}"
                                     Rows="1"/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>

                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <RadioButton Style="{StaticResource ImageRadioButtonStyle}"
                                     Content="{Binding Description}"
                                     Tag="{Binding IconPath}"
                                     IsChecked="{Binding IsSelected, Mode=TwoWay}"
                                     GroupName="DeviceCategoryTypes"/>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
                
            </ItemsControl>

            <!-- 分隔線 -->
            <Border Height="1"
                    Background="{StaticResource BorderLightBrush}"
                    Margin="0,20,0,20"/>

            <!-- 表單 -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- 圖片 -->
                <Border Grid.RowSpan="3"
                        Width="180"
                        Height="180"
                        Margin="0,0,20,0"
                        Padding="8"
                        CornerRadius="10"
                        BorderBrush="{StaticResource BorderLightBrush}"
                        BorderThickness="1"
                        Background="{StaticResource PanelBackgroundBrush}">
                    <Grid>
                        <Image Source="{Binding DeviceImageSource}"
                               Stretch="Uniform"
                               Margin="5"/>

                        <Button Width="36"
                                Height="36"
                                Margin="5"
                                HorizontalAlignment="Right"
                                VerticalAlignment="Top"
                                Background="White"
                                BorderThickness="0"
                                Cursor="Hand"
                                ToolTip="變更圖片"
                                Command="{Binding ChangeDeviceImageCommand}">
                            <TextBlock FontFamily="Segoe MDL2 Assets"
                                       Text="&#xE722;"
                                       FontSize="18"
                                       Foreground="{StaticResource PrimaryBrush}"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"/>
                        </Button>
                    </Grid>
                </Border>

                <!-- 編號 -->
                <StackPanel Grid.Column="1"
                            Margin="0,0,0,10">
                    <TextBlock Text="編號"
                               FontWeight="SemiBold"
                               Margin="0,0,0,4"
                               Foreground="#333"/>
                    <TextBox Text="{Binding DeviceId, Mode=OneWay}"
                             Style="{StaticResource ModernTextBoxStyle}"
                             IsReadOnly="True"/>
                </StackPanel>

                <!-- 名稱 -->
                <StackPanel Grid.Column="1"
                            Grid.Row="1"
                            Margin="0,0,0,10">
                    <TextBlock Text="名稱"
                               FontWeight="SemiBold"
                               Margin="0,0,0,4"
                               Foreground="#333"/>
                    <TextBox Text="{Binding DeviceName}"
                             Style="{StaticResource ModernTextBoxStyle}"/>
                </StackPanel>

                <!-- 驅動器 -->
                <StackPanel Grid.Column="1"
                            Grid.Row="2">
                    <TextBlock Text="驅動器"
                               FontWeight="SemiBold"
                               Margin="0,0,0,4"
                               Foreground="#333"/>
                    <ComboBox Height="36"
                              Padding="8,0"
                              VerticalContentAlignment="Center"
                              ItemsSource="{Binding DeviceDrivers}"
                              SelectedItem="{Binding SelectedDeviceDriver}"
                              Style="{StaticResource ModernComboBoxStyle}"/>
                </StackPanel>

            </Grid>
            
        </StackPanel>
    </Grid>
    
</UserControl>